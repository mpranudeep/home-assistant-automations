<!--
 Copyright (c) 2014, 2024, Oracle and/or its affiliates.
 Licensed under The Universal Permissive License (UPL), Version 1.0
 as shown at https://oss.oracle.com/licenses/upl/
 -->
<div class="oj-hybrid-padding">
    <style>
        p.paragraph:hover {
            cursor: pointer;
            background-color: gainsboro;
        }

        p.paragraph-playing {
            background-color: yellow;
        }

        .media-button {
            width: 150px;
        }

        .sticky-div {
            position: sticky;
            top: 0;
            /* Sticks to the top of the page */
            padding: 10px;
            background-color: #FBF9F8;
            text-align: center;
            z-index: 1000;
            /* Ensures it stays on top of other content */
        }
    </style>
    </style>
    <h5>My Reader</h5>
    <div class="oj-flex oj-sm-flex-direction-column">
        <div class="oj-flex-item">
            <div class="oj-flex">
                <oj-form-layout style="width:100%" columns="2" max-columns="2">
                    <oj-c-input-text placeholder="URL" value="{{inputURL}}"></oj-c-input-text>
                    <oj-c-button size="sm" label="Load URL" on-oj-action="[[onLoadURLButtonClicked]]"></oj-c-button>
                </oj-form-layout>
            </div>
        </div>
        <div class="oj-flex ">
            <div class="oj-flex oj-flex-item">
                <div class="oj-flex-item oj-flex">
                    <div class="oj-flex-item">
                        <oj-bind-if test="[[!playerControls.playEnabled()]]">
                            <oj-c-button size="sm" label="Play" disabled="[[novelParagraphs().length==0]]"
                                on-oj-action="[[playButtonClicked]]" class="media-button">
                                <span slot="startIcon" class="oj-ux-ico-play-circle-s"></span>
                            </oj-c-button>
                        </oj-bind-if>
                        <oj-bind-if test="[[playerControls.playEnabled()]]">
                            <oj-c-button size="sm" label="Pause" disabled="[[novelParagraphs().length==0]]"
                                on-oj-action="[[pauseButtonClicked]]" class="media-button">
                                <span slot="startIcon" class="oj-ux-ico-pause-circle-s"></span>
                            </oj-c-button>
                        </oj-bind-if>
                    </div>
                    <div class="oj-flex-item">
                        <oj-c-input-number style="width:45%"
                                min="0" value="{{playbackRate}}"
                                max="3"
                                step="0.1"></oj-c-input-number>
                    </div>
                    <div class="oj-flex-item">
                        <oj-switch id="switch" value="{{playerControls.playEnabled()}}" label-edge="inside"
                            label-hint="Auto Play Next Chapter">
                        </oj-switch>
                    </div>
                    <div class="oj-flex-item">
                        <oj-switch id="spellCorrect" value="{{spellCorrectEnabled}}" label-edge="inside"
                                   label-hint="Spell Correct">
                        </oj-switch>
                    </div>
                </div>
                <div class="oj-flex-item">
                    <audio id="audioPlayer"  controls>
                        <source id="audioSource" src="" type="audio/wav">
                        Your browser does not support the audio element.
                    </audio>
                </div>
            </div>
            <div class="oj-flex oj-flex-item">
                Next Chapter : <oj-bind-text value="[[nextChapterURL()]]"></oj-bind-text>
            </div>
        </div>
        <div class="oj-flex-item">
        </div>
        <div class="oj-flex-item">
            <oj-bind-for-each data="[[novelParagraphs]]">
                <template>
                    <p class="paragraph"
                        :class="[[((currentLineNumber()+1)==$current.data().id)?'paragraph-playing':'']]"
                        :id="[['paragraph-'+$current.data().id]]">
                        <oj-bind-text value="[[$current.data().text]]"></oj-bind-text>
                    </p>
                </template>
            </oj-bind-for-each>
        </div>
        <div class="oj-flex oj-sm-flex-direction-column">
            <div class="oj-flex oj-flex-item">
                <div class="oj-flex-item oj-flex">
                    <div class="oj-flex-item">
                        <oj-c-button size="sm" label="Previous" disabled="[[novelParagraphs().length==0]]"
                                     on-oj-action="[[prevButtonClicked]]" class="media-button">
                            <span slot="startIcon" class="oj-ux-ico-triangle-left-s"></span>
                        </oj-c-button>
                    </div>
                    <div class="oj-flex-item">
                        <oj-c-button size="sm" label="Next" disabled="[[novelParagraphs().length==0]]"
                                     on-oj-action="[[nextButtonClicked]]" class="media-button">
                            <span slot="startIcon" class="oj-ux-ico-triangle-right-s"></span>
                        </oj-c-button>
                    </div>
                </div>
            </div>
            <div class="oj-flex oj-flex-item">
                Next Chapter : <oj-bind-text value="[[nextChapterURL()]]"></oj-bind-text>
            </div>
        </div>
    </div>
</div>