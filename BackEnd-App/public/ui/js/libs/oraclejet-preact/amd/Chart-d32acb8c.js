define(['exports', 'preact/jsx-runtime', './useTextDimensions-6b5ba8f3', './useCssVars-bafb6de2', './cssUtils-4f06a610', './UNSAFE_Chart/themes/ChartStyles.css', 'preact/hooks', './Gridlines-b83d2b5f', './useId-ea85e20e', './Axis-051a14a1', './TrackResizeContainer-d13db0b6', './useChartViewport-886972ab', './layoutUtils-1659aecf', './useChartNav-8d8d01cb', './mergeProps-ac938a25', './useSelectDrill-8c762af8', './useTestId-26d55a32', './useUser-1cf184a1', './ScrollBar-0da4cf5a'], (function(e,t,o,i,r,a,n,s,l,d,c,x,u,p,g,I,h,f,S){"use strict";function m(e,t,o){const i=e.groupIndex+1;if(!(i>=t))return o(i)?{groupIndex:i}:m({groupIndex:i},t,o)}function v(e,t){const o=e.groupIndex-1;if(!(o<0))return t(o)?{groupIndex:o}:v({groupIndex:o},t)}e.Chart=function({width:e="100%",height:y="448px",selectedIds:C=[],hiddenIds:A,hideAndShowBehavior:b="none",orientation:D="vertical",xAxis:w,yAxis:P,plotArea:N,series:E,groups:G,isStacked:T=!1,getDataItem:V,selectionMode:j="none",drilling:M="off",dataCursorPosition:k,onSelectionChange:R,isDataCursorEnabled:z,dataCursorStyle:F,onViewportChange:U,onDataCursorPositionChange:B,onItemDrill:L,onGroupDrill:H,onItemInput:O,datatip:W,zoomAndScroll:$="off",offset:_,getNavUtil:q,getDataItemPos:J,getGapRatio:K,valueFormats:Q,findNearest:X,getMarkerInfo:Y,isRtl:Z,children:ee,testId:te,renderGridLinesInFront:oe,...ie}){const re=r.getChartVars(),ae=h.useTestId(te);return t.jsx(c.TrackResizeContainer,{width:e,height:y,children:function(e,r){const c=n.useRef(null),h="horizontal"===D,{xAxisPosition:y,yAxisPosition:te}=u.getAxesPosition(P,h,Z),{resolvedVars:ne,cssContent:se}=i.useCssVars(re),{textMeasureContent:le,getTextDimensions:de}=o.useTextDimensions();let ce=u.getAvailSpace(e,r);const xe=u.getScrollBarSpace(ce,$,y);let ue=xe.scrollDims;ce=xe.availSpace;const pe=new Set(A),{locale:ge}=f.useUser(),{xProps:Ie,xScale:he,xViewportExtent:fe,xAxisExtent:Se,xIndexExtent:me,yViewportExtent:ve,yAxisExtent:ye,groupWidth:Ce,yProps:Ae,yScale:be,yMaxDim:De,yMajorTicks:we,yMinorTicks:Pe,plotAreaSpace:Ne}=u.getLayoutInfo(E,G,V,w,P,ce,pe,b,h,Z,T,ne.labelFontSize,_,ge,de);ue=u.updateScrollBarSpace(ue,"bottom"===y,De);const Ee=K(me.startIndex,me.endIndex),Ge=q(me.startIndex,me.endIndex),Te=Ie.tickLabels.map((({index:e})=>e+me.startIndex)),{getNextNavGroup:Ve,getDefaultNavGroup:je}=function(e,t,o,i,r){const a=o=>{const r=e[t[o]].drilling;return("on"===i||"groupsOnly"===i)&&"off"!=r},n=e=>o.startIndex>t[e.groupIndex]?(e.groupIndex=0,e):o.endIndex<t[e.groupIndex]?(e.groupIndex=t.length-1,e):void 0;return{getDefaultNavGroup:n,getNextNavGroup:(e,o)=>{let i=n(e);return i||(i="ArrowRight"===o?r?v(e,a):m(e,t.length,a):r?m(e,t.length,a):v(e,a),i||e)}}}(G,Te,me,M,Z),{activeId:Me,focusedItemInfo:ke,hoveredItemInfo:Re,focusedGroupInfo:ze,navProps:Fe}=p.useChartNav({rootRef:c,getNextChartItem:Ge,getNextNavGroup:Ve,getDefaultNavGroup:je,onItemInput:O,drilling:M,xIndexExtent:me}),Ue=I.useSelectDrill({selectionMode:j,selection:C,onChange:R,rootRef:c,drilling:M,onItemDrill:L,onGroupDrill:H,focusedGroupInfo:ze,focusedItemInfo:ke,groups:G,getDataItem:V}),Be=x.useChartViewport({width:e,height:r,xViewportExtent:fe,yViewportExtent:ve,xAxisExtent:Se,yAxisExtent:ye,xScale:he,yScale:be,plotAreaSpace:Ne,isRtl:Z,isHoriz:h,zoomAndScroll:$,onViewportChange:U}),Le=X(he,be,Ce,Ee),He=J(he,be,Ce,Ee),{datatipContent:Oe,dataCursorContent:We,datatipProps:$e}=I.useChartDatatipAndCursor({series:E,groups:G,width:e,height:r,findNearest:Le,plotAreaSpace:Ne,onDataCursorPositionChange:B,isDataCursorEnabled:z,dataCursorPosition:k,dataCursorStyle:F,hoveredItemInfo:Re,focusedItemInfo:ke,getDataItem:V,getMarkerInfo:Y,getDataItemPos:He,datatip:W,valueFormats:Q,isHoriz:h,xScale:he,yScale:be,timeAxisType:w?.timeAxisType}),_e=g.mergeProps(Fe,Ue,Be,$e),qe=l.useId(),{viewportMin:Je,viewportMax:Ke}=fe,{startIndex:Qe,endIndex:Xe}=me,Ye=t.jsx(s.Gridlines,{plotArea:N,yMinorTicks:Pe,xScale:he,yScale:be,isLog:"log"===P?.scale,xViewportMin:Je,xViewportMax:Ke,yTicks:we,yAxisPosition:te});return t.jsxs("div",{tabIndex:0,ref:c,"aria-activedescendant":Me,"aria-label":ie["aria-label"],"aria-labelledby":ie["aria-labelledby"],"aria-describedby":ie["aria-describedby"],style:{width:e,height:r},role:"application",className:a.styles.outline,...ae,..._e,children:[t.jsxs("svg",{width:"100%",height:"100%",children:[t.jsx("clipPath",{id:`${qe}`,children:t.jsx("rect",{...Ne})}),t.jsx(s.PlotArea,{color:N?.color,yScale:be,isLog:"log"===P?.scale,availSpace:Ne,xAxisPosition:y}),!oe&&Ye,t.jsx(d.Axis,{...Ae,axisPosition:te}),t.jsx(d.Axis,{...Ie,axisPosition:y,isTextInteractive:e=>{if(null!=w?.timeAxisType)return!1;const t=G[e].drilling;return"on"===t||"off"!=t&&("on"===M||"groupsOnly"===M)},activeId:Me,focusedGroupIndex:ze.isFocusVisible?ze.groupIndex:void 0}),t.jsxs("g",{"clip-path":`url(#${qe})`,children:[ee({xStartIndex:Qe,xEndIndex:Xe,xScale:he,yScale:be,gapRatio:Ee,activeId:Me,focusedItemInfo:ke,hoveredItemInfo:Re,groupWidth:Ce}),oe&&Ye,We]}),"live"===$&&t.jsx(S.ScrollBar,{availSpace:ue,viewport:fe,axisExtent:Se,isHoriz:"bottom"===y})]}),le,se,Oe]})}})}}));
//# sourceMappingURL=Chart-d32acb8c.js.map
