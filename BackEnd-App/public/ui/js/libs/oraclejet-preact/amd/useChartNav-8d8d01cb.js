define(['exports', 'preact/hooks', './LegendUtils-64e4b783', './eventsUtils-ae65feeb', './accUtils-4eb63e07'], (function(e,s,i,n,r){"use strict";function t(e,s){return e?.groupIndex===s?.groupIndex&&e?.isCurrent===s?.isCurrent&&e?.isFocusVisible===s?.isFocusVisible}function o(e,s){return e?.seriesIndex===s?.seriesIndex&&t(e,s)}e.useChartNav=function({rootRef:e,getNextChartItem:r,getDefaultNavGroup:u,getNextNavGroup:c,xIndexExtent:d,onItemInput:I,drilling:l}){const[x,a]=s.useState({groupIndex:d.startIndex,seriesIndex:0}),b="on"===l||"groupsOnly"===l,[C,p]=s.useState(),[g,f]=s.useState({groupIndex:0}),v=s.useRef(),F=s.useRef(),V=x.isCurrent,h=g.isCurrent,k=e=>{t(e,g)||f(e)},m=e=>{if(!o(e,F.current)){const s={groupIndex:e?.groupIndex,seriesIndex:e?.seriesIndex};I?.(s),F.current=e}},w=e=>{var s,i;o(e,x)||(a(e),C&&(s=C,i=e,s?.seriesIndex!==i?.seriesIndex||i?.groupIndex!==s?.groupIndex)&&p({...C,isCurrent:!1}),e.isCurrent&&m(e))},E=e=>{C&&o(e,C)||(p(e),a({...x,isCurrent:!1}),m(e))},y=e=>{const s=u(g),r=Math.max(d.startIndex,Math.min(d.endIndex,x.groupIndex));e.shiftKey?V?(w({...x,groupIndex:r,isCurrent:!1,isFocusVisible:!1}),m(void 0)):h?(w({...x,groupIndex:r,isCurrent:!0,isFocusVisible:!0}),b&&(k({...g,...s,isCurrent:!1,isFocusVisible:!1}),n.cancelEvent(e))):b&&k({...g,...s,isCurrent:!0,isFocusVisible:!0}):V?(w({...x,groupIndex:r,isCurrent:!1,isFocusVisible:!1}),b&&(k({...g,...s,isCurrent:!0,isFocusVisible:!0}),n.cancelEvent(e)),m(void 0)):h&&b?k({...g,...s,isCurrent:!1,isFocusVisible:!1}):w({...x,groupIndex:r,isCurrent:!0,isFocusVisible:!0}),v.current=i.getRandomId()};return{focusedItemInfo:x,focusedGroupInfo:g,hoveredItemInfo:C,activeId:v.current,navProps:{onKeyDown:e=>{const s=e.key;switch(s){case"Tab":y(e);break;case"ArrowRight":if(h){const e=c(g,s);k({...e,isCurrent:!0,isFocusVisible:!0})}else{const e=r(x,s);w({...e,isCurrent:!0,isFocusVisible:!0})}p(void 0),n.cancelEvent(e);break;case"ArrowLeft":if(h){const e=c(g,s);k({...e,isCurrent:!0,isFocusVisible:!0})}else{const e=r(x,s);w({...e,isCurrent:!0,isFocusVisible:!0})}p(void 0),n.cancelEvent(e);break;case"ArrowUp":if(V){const e=r(x,s);w({...e,isCurrent:!0,isFocusVisible:!0})}p(void 0),n.cancelEvent(e);break;case"ArrowDown":if(V){const e=r(x,s);w({...e,isCurrent:!0,isFocusVisible:!0})}p(void 0),n.cancelEvent(e)}},onKeyUp:e=>{if("Tab"===e.key)V||h||y(e)},onPointerUp:s=>{const i=n.getInfo(e,s);if(!i)return;const{seriesIndex:r,groupIndex:t}=i;null!=r&&null!=t?(w({seriesIndex:r,groupIndex:t,isCurrent:!1,isFocusVisible:!1}),k({...g,isCurrent:!1,isFocusVisible:!1})):void 0!==t&&void 0===r&&(k({groupIndex:t,isCurrent:!0,isFocusVisible:!1}),w({...x,isCurrent:!1,isFocusVisible:!1}))},onPointerMove:s=>{const i=n.getInfo(e,s);if(!i)return void E(void 0);const{seriesIndex:r,groupIndex:t}=i;null!=r&&(E({seriesIndex:r,groupIndex:t,isCurrent:!0}),w({...x,isCurrent:!1}))},onBlur:()=>{w({...x,isCurrent:!1,isFocusVisible:!1})}}}}}));
//# sourceMappingURL=useChartNav-8d8d01cb.js.map
