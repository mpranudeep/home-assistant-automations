define(['exports', 'preact/jsx-runtime', 'preact/hooks', './Message-28153202', 'preact', './Floating-7f696c17', 'preact/compat', './TopLayerHost-04f78157', './classNames-60f91d93', './useComponentTheme-b44c0028', './useTestId-26d55a32', 'css!./TooltipContentStyles.styles.css', 'module', './hooks/UNSAFE_useTooltip/themes/redwood/TooltipContentVariants.css', 'css!./IconStyle.styles.css', './IconButton-1d780771', './useTranslationBundle-ad029b83', 'css!./MessageStyles.styles.css', './MessageFormattingUtils-9bf7b321', './MessagesManager-3fd90891', './Flex-ccc01d6e', './MessageUtils-a81798fe', './LiveRegion-0349f7b3', './useMessagesFocusManager-34848889', './UNSAFE_MessageBanner/themes/redwood/MessageBannerTheme', './timer-ce722308', './MessageCloseButton-418192e3', './Close-2fc374f1', './Icon-a522a219', './size-963b519c', './utils-4843ee1d', './Common/themes/themeContract.css', './colorUtils-78fed75b', './_curry1-29759c0d', './useTooltip-96a305f2', './useTooltipControlled-12d84c54', './useId-ea85e20e', './Layer-ba294014', './useThemeInterpolations-e7364c0d', './useColorScheme-dc114593', './useScale-dbe3a08d', './theme-b5b2260c', './Theme-2dc8b6f4', './mergeInterpolations-e7e2a709', './_curry3-a7927ef7', './_curry2-3c2a6ddd', './_isObject-30730c61', './useHover-bef4f93b', './useToggle-862113a2', './useFocus-099ecd14', './useTouch-cc6563dc', './mergeProps-ac938a25', './useAnimation-bdc8e7f7', './hooks/UNSAFE_useTooltip/themes/redwood/TooltipContentTheme', './hooks/UNSAFE_useTooltip/themes/TooltipContentStyles.css', './hooks/UNSAFE_useTooltip/themes/redwood/TooltipContentBaseTheme.css', 'css!./TooltipContentVariants.styles.css', './vanilla-extract-recipes-createRuntimeFn.esm-0883d6a2', './EnvironmentProvider-5335ee84', './LayerManager-d61b4703', './logger-87202d60', './UNSAFE_Icon/themes/IconStyle.css', './PRIVATE_Message/themes/MessageStyles.css', './MessageDetail-ab79c216', './MessageStartIcon-26fae3cc', './SuccessS-0d61b1a6', './ErrorS-7436e5ae', './InformationS-157a361b', './WarningS-7e89cb95', './MessageSummary-efd892b8', './MessageTimestamp-5e532542', './useFloating-e05ac48f', './useUser-1cf184a1', './positionUtils-fe1f7954', './refUtils-38a674d1', './useOutsideClick-0c12462c', './arrayUtils-acfed3bd', './UNSAFE_Floating/themes/redwood/FloatingTheme', './UNSAFE_Floating/themes/FloatingStyles.css', 'css!./FloatingStyles.styles.css', './UNSAFE_Floating/themes/redwood/FloatingBaseTheme.css', 'module', './UNSAFE_Floating/themes/redwood/FloatingVariants.css', './vanilla-extract-dynamic.esm-ad958147', './UNSAFE_Floating/themes/FloatingContract.css', './Common/themes/redwood/theme', './BaseButton-d563828b', './usePress-9ccc917a', './useActive-77296f0a', './TabbableModeContext-4083a895', './useTabbableMode-fc60b435', './dimensions-5b0f823c', './clientHints-dbd4357f', './UNSAFE_BaseButton/themes/BaseButtonStyles.css', 'css!./BaseButtonStyles.styles.css', './ButtonLayout-26f0e44b', './Text-14b145e0', './UNSAFE_Text/themes/TextStyles.css', 'css!./TextStyles.styles.css', './UNSAFE_ButtonLayout/themes/redwood/ButtonLayoutTheme', './UNSAFE_ButtonLayout/themes/ButtonLayoutStyles.css', 'css!./ButtonLayoutStyles.styles.css', './UNSAFE_ButtonLayout/themes/redwood/ButtonLayoutBaseTheme.css', 'module', './UNSAFE_ButtonLayout/themes/redwood/ButtonLayoutVariants.css', 'css!./ButtonLayoutVariants.styles.css', './getLocale-2deac9b1', './stringUtils-7740b2bd', './Message.types-9682c442', './TransitionGroup-7a1d8544', './MessagesContext-68e429d4', './useMessagesContext-6d0e3167', './Transition-a620c59a', './boxalignment-c5c1f0bf', 'css!./boxalignment.styles.css', './vanilla-extract-sprinkles-createRuntimeSprinkles.esm-48496af8', './flexbox-c972e19a', 'css!./flexbox.styles.css', './flexitem-e746ae0c', 'css!./flexitem.styles.css', 'css!./FlexStyles.styles.css', './soundUtils-ca7f3c2b', 'css!./LiveRegionStyles.styles.css', './UNSAFE_MessageBanner/themes/MessageBannerStyles.css', 'css!./MessageBannerStyles.styles.css', './UNSAFE_MessageBanner/themes/redwood/MessageBannerBaseTheme.css', 'module', './UNSAFE_MessageBanner/themes/redwood/MessageBannerVariants.css', 'css!./MessageBannerVariants.styles.css'], (function(e,s,t,o,a,n,c,l,r,i,d,u,g,m,h,y,f,S,b,F,B,T,p,M,x,U,_,E,A,v,C,N,w,L,R,k,I,H,j,V,P,O,z,W,$,D,G,K,q,J,Q,X,Y,Z,ee,se,te,oe,ae,ne,ce,le,re,ie,de,ue,ge,me,he,ye,fe,Se,be,Fe,Be,Te,pe,Me,xe,Ue,_e,Ee,Ae,ve,Ce,Ne,we,Le,Re,ke,Ie,He,je,Ve,Pe,Oe,ze,We,$e,De,Ge,Ke,qe,Je,Qe,Xe,Ye,Ze,es,ss,ts,os,as,ns,cs,ls,rs,is,ds,us,gs,ms,hs,ys,fs,Ss,bs,Fs,Bs){"use strict";const Ts={entering:e=>({to:{maxHeight:`${e.scrollHeight}px`,overflow:"hidden"},options:{duration:250},end:{maxHeight:"none",overflow:"initial"}}),exiting:e=>({..."none"===e.style.maxHeight&&{from:{maxHeight:`${e.scrollHeight}px`,overflow:"hidden"}},to:{maxHeight:0,overflow:"hidden"},end:{maxHeight:0,overflow:"hidden"},options:{duration:250}})},ps={maxHeight:0,overflow:"hidden"};e.MessageBanner=function({detailRendererKey:e,data:a,onClose:n,renderers:c,testId:l,variant:u="section"}){const g=d.useTestId(l),m=t.useRef(new Map),h=t.useRef(null),y=t.useRef(null),[S,b]=t.useState(),[U,_]=t.useState(a.length>0),E=f.useTranslationBundle("@oracle/oraclejet-preact"),A=t.useRef(a.length),v=t.useRef(0);A.current=a.length;const C=t.useCallback((e=>s=>m.current.set(e,s)),[]);t.useImperativeHandle(y,(()=>({focus:()=>{if(a.length){const e=a[0].key;return m.current.get(e)?.focus(),!0}return!1},contains:e=>!(!a.length||!e)&&(h.current?.contains(e)??!1)})),[a]);const{controller:N,handlers:w}=M.useMessageFocusManager(y,{onFocus:t.useCallback((()=>{b(E.message_navigationFromMessagesRegion())}),[b,E])}),L=t.useCallback((e=>{n?.(e)}),[n]),R=t.useCallback(((e,s,t)=>{const o=t?.contains(document.activeElement);if(0===A.current)return _(!1),void(o&&N.restorePriorFocus());const n=s+1<a.length?s+1:s-1;if(n>-1&&o){const e=a[n].key;m.current.get(e)?.focus()}}),[N,a]);t.useEffect((()=>{a.length?(_(!0),a.length>v.current&&b(E.message_navigationToMessagesRegion()),N.prioritize()):b(""),v.current=a.length}),[N,a,E]);const{classes:k}=i.useComponentTheme(x.MessageBannerRedwoodTheme);return U||0!==a.length?s.jsx("div",{ref:h,class:r.classNames(["oj-c-messagebanner",k]),tabIndex:-1,...w,...g,children:s.jsxs(B.Flex,{direction:"column",gap:"section"===u?"1x":void 0,children:[s.jsx(F.MessagesManager,{animationStates:Ts,initialAnimationStyles:ps,data:a,onMessageWillRemove:R,children:({item:t})=>s.jsx(o.Message,{messageRef:C(t.key),item:t,detailRenderer:T.getRenderer(t,e,c),variant:"page"===u?"pageBanner":"sectionBanner",onClose:L},t.key)}),s.jsx(p.LiveRegion,{children:S})]})}):null},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=UNSAFE_MessageBanner.js.map
