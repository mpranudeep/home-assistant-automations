define(['exports', 'preact/jsx-runtime', 'preact/hooks', './positionUtils-fe1f7954', './useAnimation-bdc8e7f7', './useUser-1cf184a1', './useTestId-26d55a32', './useBreakpointValues-4cd7a9cc', './useComponentTheme-b44c0028', './classNames-60f91d93', './UNSAFE_DrawerLayout/themes/redwood/DrawerLayoutTheme', './TopLayerHost-04f78157', 'preact', './Common/themes/redwood/theme', './Common/themes/themeContract.css', 'preact/compat', './useBreakpoints-9073adf6', './logger-87202d60', './UNSAFE_DrawerLayout/themes/DrawerLayoutStyles.css', 'css!./DrawerLayoutStyles.styles.css', './UNSAFE_DrawerLayout/themes/redwood/DrawerLayoutBaseTheme.css', 'module', './UNSAFE_DrawerLayout/themes/redwood/DrawerLayoutVariants.css', './vanilla-extract-recipes-createRuntimeFn.esm-0883d6a2'], (function(e,r,t,a,s,o,n,i,c,l,u,d,w,m,f,h,y,D,p,v,x,g,S,L){"use strict";e.DrawerLayout=({children:e,startDrawer:d,endDrawer:w,bottomDrawer:m,isStartOpen:f=!1,isEndOpen:h=!1,isBottomOpen:y=!1,startDisplay:D,endDisplay:p,bottomDisplay:v,onClose:x,onTransitionEnd:g,testId:S})=>{const L="0px",N=250,b="start",R="end",E="bottom",O="initial",T="opening",A="closing",B="unmounted",j="full-overlay",k="overlay",C="hidden",[U,H]=t.useState(f?O:B),[X,Y]=t.useState(h?O:B),[$,_]=t.useState(y?O:B),[F,I]=t.useState(C),[K,M]=t.useState(C),[V,W]=t.useState(C),P=i.useBreakpointValues({sm:"full-overlay",md:"overlay",lg:"reflow"}),[z,q]=t.useState(P);t.useEffect((()=>{q(P)}),[P]);const G=t.useRef(null),J=t.useRef(null),Q=t.useRef(null),Z=e=>Math.round(e.offsetHeight),ee=e=>Math.round(e.getBoundingClientRect().width),{direction:re}=o.useUser(),te="ltr"===re,ae=(e,r)=>`${"right"===(e=>a.normalizePosition(e,re))(e)?"":"-"}${ee(r.current)}px`,se=e=>`${Z(e.current)}px`,oe=e=>[T,A].indexOf(e)>-1,ne=e=>[j,k].indexOf(e)>-1,ie=e=>{switch(e){case b:return f;case R:return h;case E:return y}},ce=(e,r)=>{switch(e){case b:return I(r);case R:return M(r);case E:return W(r)}},le=e=>{switch(e){case b:return U;case R:return X;case E:return $}},ue=(e,r)=>{switch(e){case b:H(r);break;case R:Y(r);break;case E:_(r)}},de=e=>{const r=(e=>{switch(e){case b:return D;case R:return p;case E:return v}})(e);return r||z},we=(e,r)=>{const t=(e=>e===E)(e);return"reflow"===de(e)?t?{opening:()=>({from:{maxHeight:L,overflowX:"hidden"},to:{maxHeight:`${Z(r.current)}px`,overflowX:"hidden"},options:{duration:N}}),closing:()=>({from:{maxHeight:`${Z(r.current)}px`},to:{maxHeight:L,overflowX:"hidden"},options:{duration:N}})}:{opening:()=>({from:{maxWidth:L,overflowY:"hidden"},to:{maxWidth:`${ee(r.current)}px`,overflowY:"hidden"},options:{duration:N}}),closing:()=>({from:{maxWidth:`${ee(r.current)}px`},to:{maxWidth:L,overflowY:"hidden"},options:{duration:N}})}:t?{opening:()=>({from:{translateY:se(r)},to:{translateY:L},options:{duration:N}}),closing:()=>({from:{translateY:L},to:{translateY:se(r)},options:{duration:N}})}:{opening:()=>({from:{translateX:ae(e,r)},to:{translateX:L},options:{duration:N}}),closing:()=>({from:{translateX:L},to:{translateX:ae(e,r)},options:{duration:N}})}};function me(e,r){const t=ie(e),a=le(e);return s.useAnimation(a,{animationStates:we(e,r),isAnimatedOnMount:!0,onAnimationEnd:()=>{a===T?(ue(e,"open"),g?.({placement:e,value:!0})):t||((e=>{switch(e){case b:fe(null);break;case R:he(null);break;case E:ye(null)}})(e),ce(e,C),ue(e,B),g?.({placement:e,value:!1}))}}).nodeRef}const fe=me(b,G),he=me(R,J),ye=me(E,Q),De=n.useTestId(S);function pe(e){const r=ie(e),a=le(e);t.useEffect((()=>{if(a!==B||r)if(a===B&&r)ue(e,O);else{if(a===O&&r){const r=(e=>{switch(e){case b:return G;case R:return J;case E:return Q}})(e),t=(e=>{switch(e){case b:return fe;case R:return he;case E:return ye}})(e);return t(r.current),void ue(e,T)}a===T&&r?ce(e,"visible"):r||ue(e,A)}}),[r,a,e])}pe(b),pe(R),pe(E);const ve=e=>{Se(b,e)},xe=e=>{Se(R,e)},ge=e=>{Se(E,e)},Se=(e,r)=>{"Escape"===r.code&&ne(de(e))&&"Escape"===r.code&&x?.({placement:e,reason:"escapeKey"})},{classes:Le,styles:Ne}=c.useComponentTheme(u.DrawerLayoutRedwoodTheme),be=e=>{const r=de(e),t=(e=>{switch(e){case b:return F;case R:return K;case E:return V}})(e),a=(e=>e===C?Ne.visibilityHidden:Ne.visibilityVisible)(t),s=(e=>{switch(e){case b:return oe(U);case R:return oe(X);case E:return oe($)}})(e)&&Ne.animatedDrawer;switch(e){case b:return r===j?l.classNames([Ne.overlayDrawer,Ne.fullOverlayDrawerSide,te&&Ne.overlayDrawerLeft,!te&&Ne.overlayDrawerRight,a,s]):r===k?l.classNames([Ne.overlayDrawer,Ne.basicOverlayDrawerSide,te&&Ne.overlayDrawerLeft,!te&&Ne.overlayDrawerRight,a,s]):l.classNames([Ne.reflowDrawer,te&&Ne.reflowDrawerLeft,!te&&Ne.reflowDrawerRight,a,s]);case R:return r===j?l.classNames([Ne.overlayDrawer,Ne.fullOverlayDrawerSide,te&&Ne.overlayDrawerRight,!te&&Ne.overlayDrawerLeft,a,s]):r===k?l.classNames([Ne.overlayDrawer,Ne.basicOverlayDrawerSide,te&&Ne.overlayDrawerRight,!te&&Ne.overlayDrawerLeft,a,s]):l.classNames([Ne.reflowDrawer,te&&Ne.reflowDrawerRight,!te&&Ne.reflowDrawerLeft,a,s]);case E:return[k,j].indexOf(r)>-1?l.classNames([Ne.overlayDrawer,Ne.overlayDrawerBottom,a]):l.classNames([Ne.reflowDrawer,Ne.reflowDrawerBottom,a,s])}},Re=e=>{if(le(e)!==B)switch(e){case b:return r.jsx("div",{ref:G,className:be(b),tabIndex:ne(de(b))?-1:void 0,onKeyDown:ve,children:d});case R:return r.jsx("div",{ref:J,className:be(R),tabIndex:ne(de(b))?-1:void 0,onKeyDown:xe,children:w});case E:return r.jsx("div",{ref:Q,className:be(E),tabIndex:ne(de(b))?-1:void 0,onKeyDown:ge,children:m})}return null};return r.jsxs("div",{className:Le,...De,children:[Re(b),r.jsxs("div",{className:Ne.centerSection,children:[r.jsx("div",{className:Ne.mainContent,children:e}),Re(E)]}),Re(R)]})},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=UNSAFE_DrawerLayout.js.map
