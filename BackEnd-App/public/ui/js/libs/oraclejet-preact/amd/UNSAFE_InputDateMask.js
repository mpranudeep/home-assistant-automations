define(['exports', 'preact/jsx-runtime', 'preact/compat', 'preact/hooks', './logger-87202d60', './TabbableModeContext-4083a895', './useTranslationBundle-ad029b83', 'css!./UserAssistanceStyles.styles.css', 'module', './UNSAFE_UserAssistance/themes/redwood/UserAssistanceVariants.css', './InlineUserAssistance-8808f3e7', './CompactUserAssistance-e6f71763', './Floating-7f696c17', './TopLayerHost-04f78157', 'css!./TooltipContentStyles.styles.css', 'module', './hooks/UNSAFE_useTooltip/themes/redwood/TooltipContentVariants.css', 'preact', 'css!./IconStyle.styles.css', './Popup-244a5193', 'css!./LabelStyles.styles.css', 'module', './UNSAFE_Label/themes/redwood/LabelVariants.css', './InputGroupContext-5b55daba', 'css!./HiddenAccessibleStyles.styles.css', 'module', './UNSAFE_Popup/themes/redwood/PopupVariants.css', './classNames-60f91d93', './clientHints-dbd4357f', './keyboardUtils-62e3c875', './getFormatParse-9577669f', './maskUtils-6d0c5681', './UNSAFE_InputDateMask/themes/SegmentStyles.css', './useUser-1cf184a1', './Flex-ccc01d6e', './HiddenAccessible-1830613f', './LiveRegion-0349f7b3', './stringUtils-7740b2bd', './useComponentTheme-b44c0028', './calendarDateUtils-a7727ef5', './useDoubleTap-c1b32c2e', './useTabbableMode-fc60b435', './FormFieldContext-65ab4fec', './useFormFieldContext-53cf3575', './UNSAFE_TextField/themes/redwood/TextFieldInputTheme', './Label-e99d6d97', './TextFieldInput-01d3e0cd', 'css!./ObfuscatedTextFieldInputStyles.styles.css', './ReadonlyTextFieldInput-d2aa123a', './StyledTextField-f898814c', './TextField-a832cd94', 'css!./LiveRegionStyles.styles.css', './useFocusableTextField-a22b0fd7', './FormContext-f6953c77', './useFormContext-99989b5a', './useTextField-0acb5fa7', './vanilla-extract-recipes-createRuntimeFn.esm-0883d6a2', 'css!./MessageBannerStyles.styles.css', 'module', './UNSAFE_MessageBanner/themes/redwood/MessageBannerVariants.css', 'css!./MessageBannerVariants.styles.css', './IconButton-1d780771', './BaseButton-d563828b', './usePress-9ccc917a', './useHover-bef4f93b', './useToggle-862113a2', './useActive-77296f0a', './useColorScheme-dc114593', './dimensions-5b0f823c', './size-963b519c', './utils-4843ee1d', './Common/themes/themeContract.css', './colorUtils-78fed75b', './_curry1-29759c0d', './mergeInterpolations-e7e2a709', './_curry3-a7927ef7', './_curry2-3c2a6ddd', './_isObject-30730c61', './mergeProps-ac938a25', './UNSAFE_BaseButton/themes/BaseButtonStyles.css', 'css!./BaseButtonStyles.styles.css', './useTestId-26d55a32', './ButtonLayout-26f0e44b', './Text-14b145e0', './UNSAFE_Text/themes/TextStyles.css', 'css!./TextStyles.styles.css', './UNSAFE_ButtonLayout/themes/redwood/ButtonLayoutTheme', './UNSAFE_ButtonLayout/themes/ButtonLayoutStyles.css', 'css!./ButtonLayoutStyles.styles.css', './UNSAFE_ButtonLayout/themes/redwood/ButtonLayoutBaseTheme.css', 'module', './UNSAFE_ButtonLayout/themes/redwood/ButtonLayoutVariants.css', 'css!./ButtonLayoutVariants.styles.css', './useTooltip-96a305f2', './useTooltipControlled-12d84c54', './useId-ea85e20e', './Layer-ba294014', './useThemeInterpolations-e7364c0d', './useScale-dbe3a08d', './theme-b5b2260c', './Theme-2dc8b6f4', './useFocus-099ecd14', './useTouch-cc6563dc', './useAnimation-bdc8e7f7', './hooks/UNSAFE_useTooltip/themes/redwood/TooltipContentTheme', './hooks/UNSAFE_useTooltip/themes/TooltipContentStyles.css', './hooks/UNSAFE_useTooltip/themes/redwood/TooltipContentBaseTheme.css', 'css!./TooltipContentVariants.styles.css', './EnvironmentProvider-5335ee84', './LayerManager-d61b4703', 'css!./MessageStyles.styles.css', './MessageFormattingUtils-9bf7b321', './getLocale-2deac9b1', './Message.types-9682c442', './TransitionGroup-7a1d8544', './MessagesContext-68e429d4', 'css!./ComponentMessageStyles.styles.css', 'module', './UNSAFE_ComponentMessage/themes/redwood/ComponentMessageVariants.css', './ComponentMessageContainer-325332d7', './MessagesManager-3fd90891', './useMessagesContext-6d0e3167', './Transition-a620c59a', './ComponentMessage-837d1c74', './MessageStartIcon-26fae3cc', './SuccessS-0d61b1a6', './Icon-a522a219', './UNSAFE_Icon/themes/IconStyle.css', './ErrorS-7436e5ae', './InformationS-157a361b', './WarningS-7e89cb95', './PRIVATE_Message/themes/MessageStyles.css', './MessageSummary-efd892b8', './MessageUtils-a81798fe', './soundUtils-ca7f3c2b', './UNSAFE_ComponentMessage/themes/redwood/ComponentMessageTheme', './UNSAFE_ComponentMessage/themes/ComponentMessageStyles.css', './UNSAFE_ComponentMessage/themes/redwood/ComponentMessageBaseTheme.css', './InlineHelp-8b74d1e9', './InlineHelpSource-063ae7da', './UNSAFE_UserAssistance/themes/redwood/UserAssistanceTheme', './UNSAFE_UserAssistance/themes/UserAssistanceStyles.css', './UNSAFE_UserAssistance/themes/redwood/UserAssistanceBaseTheme.css', './useInputGroupContext-8da86134', './Separator-d518ccf1', './UNSAFE_Separator/themes/SeparatorStyles.css', 'css!./SeparatorStyles.styles.css', './CompactHelpSource-a63a3454', './Help-b9fb5357', './useFocusWithin-126a875c', './UNSAFE_Label/themes/redwood/LabelTheme', './UNSAFE_Label/themes/LabelStyles.css', './UNSAFE_Label/themes/redwood/LabelBaseTheme.css', './useFloating-e05ac48f', './positionUtils-fe1f7954', './refUtils-38a674d1', './useOutsideClick-0c12462c', './arrayUtils-acfed3bd', './UNSAFE_Floating/themes/redwood/FloatingTheme', './UNSAFE_Floating/themes/FloatingStyles.css', 'css!./FloatingStyles.styles.css', './UNSAFE_Floating/themes/redwood/FloatingBaseTheme.css', 'module', './UNSAFE_Floating/themes/redwood/FloatingVariants.css', './vanilla-extract-dynamic.esm-ad958147', './UNSAFE_Floating/themes/FloatingContract.css', './Common/themes/redwood/theme', './tabbableUtils-3f4506c3', './head-44f0c95b', './_arity-c8c764a8', './_isArray-e1950e46', './_isString-5a1a6795', './FocusTrap-f2f3e77b', './FocusTracker-ec848ce2', './PRIVATE_FocusTracker/themes/FocusTrackerStyles.css', 'css!./FocusTrackerStyles.styles.css', './Modal-95577f1e', './UNSAFE_Modal/themes/ModalStyles.css', 'css!./ModalStyles.styles.css', './useAnimationStatus-2f1ed3c6', './UNSAFE_Popup/themes/PopupContract.css', './UNSAFE_Popup/themes/redwood/PopupTheme', './UNSAFE_Popup/themes/redwood/PopupBaseTheme.css', 'css!./PopupStyles.styles.css', './types-b5b79f63', 'css!./SegmentStyles.styles.css', './boxalignment-c5c1f0bf', 'css!./boxalignment.styles.css', './vanilla-extract-sprinkles-createRuntimeSprinkles.esm-48496af8', './flexbox-c972e19a', 'css!./flexbox.styles.css', './flexitem-e746ae0c', 'css!./flexitem.styles.css', 'css!./FlexStyles.styles.css', './UNSAFE_TextField/themes/TextFieldInputStyles.css', 'css!./TextFieldInputStyles.styles.css', './UNSAFE_TextField/themes/redwood/TextFieldInputVariants.css', 'css!./TextFieldInputVariants.styles.css', './CompactLabelAssistance-52161af3', './UNSAFE_TextField/themes/redwood/TextFieldTheme', './UNSAFE_TextField/themes/TextFieldStyles.css', 'css!./SkeletonStyles.styles.css', 'css!./TextFieldLoadingStyles.styles.css', 'css!./TextFieldStyles.styles.css', './UNSAFE_TextField/themes/redwood/TextFieldBaseTheme.css', 'module', './UNSAFE_TextField/themes/redwood/TextFieldVariants.css', 'css!./TextFieldVariants.styles.css', './useAccessibleContext-0819c95e', './useTextFieldInputHandlers-b44bc6a9', './textAlign-f78260cb', 'css!./text.styles.css', './TextFieldUtils-1968be50', './UNSAFE_TextField/themes/redwood/ReadonlyTextFieldInputTheme', './UNSAFE_TextField/themes/ReadonlyTextFieldInputStyles.css', 'css!./ReadonlyTextFieldInputStyles.styles.css', './UNSAFE_TextField/themes/redwood/ReadonlyTextFieldInputVariants.css', './LabelValueLayout-db87b2ef', 'css!./LabelValueLayoutStyles.styles.css', './UNSAFE_RadioItem/themes/redwood/RadioTheme', './UNSAFE_RadioItem/themes/RadioStyles.css', 'css!./RadioStyles.styles.css', './UNSAFE_RadioItem/themes/redwood/RadioBaseTheme.css', 'module', './UNSAFE_RadioItem/themes/redwood/RadioVariants.css', './UNSAFE_TextField/themes/redwood/FormLayoutTheme', './UNSAFE_TextField/themes/FormLayoutStyles.css', './UNSAFE_TextField/themes/redwood/FormLayoutBaseTheme.css', 'module', './UNSAFE_Checkbox/themes/redwood/CheckboxTheme', './UNSAFE_Checkbox/themes/CheckboxStyles.css', 'css!./CheckboxStyles.styles.css', './UNSAFE_Checkbox/themes/redwood/CheckboxBaseTheme.css', 'module', './UNSAFE_Checkbox/themes/redwood/CheckboxVariants.css', 'css!./CheckboxVariants.styles.css', './LayoutStyles.css-89b37e2d', 'css!./LayoutStyles.styles.css', './UNSAFE_TextField/themes/ReadonlyTextFieldStyles.css', 'css!./ReadonlyTextFieldStyles.styles.css', './UNSAFE_TextField/themes/redwood/ReadonlyTextFieldTheme', './UNSAFE_TextField/themes/redwood/ReadonlyTextFieldVariants.css', 'css!./ReadonlyTextFieldVariants.styles.css', './UNSAFE_Skeleton/themes/redwood/SkeletonTheme', './UNSAFE_Skeleton/themes/SkeletonStyles.css', './UNSAFE_Skeleton/themes/redwood/SkeletonBaseTheme.css', 'module', './UNSAFE_Skeleton/themes/redwood/SkeletonVariants.css', './useMessageSeverity-a439f53e', './useFormFieldContextProps-62f7ec8a'], (function(e,t,s,a,o,n,r,l,i,d,c,u,m,y,p,h,S,g,F,b,x,f,T,A,v,C,U,_,E,w,D,k,N,I,R,B,M,L,P,H,V,j,O,q,Y,W,z,G,K,$,X,Z,J,Q,ee,te,se,ae,oe,ne,re,le,ie,de,ce,ue,me,ye,pe,he,Se,ge,Fe,be,xe,fe,Te,Ae,ve,Ce,Ue,_e,Ee,we,De,ke,Ne,Ie,Re,Be,Me,Le,Pe,He,Ve,je,Oe,qe,Ye,We,ze,Ge,Ke,$e,Xe,Ze,Je,Qe,et,tt,st,at,ot,nt,rt,lt,it,dt,ct,ut,mt,yt,pt,ht,St,gt,Ft,bt,xt,ft,Tt,At,vt,Ct,Ut,_t,Et,wt,Dt,kt,Nt,It,Rt,Bt,Mt,Lt,Pt,Ht,Vt,jt,Ot,qt,Yt,Wt,zt,Gt,Kt,$t,Xt,Zt,Jt,Qt,es,ts,ss,as,os,ns,rs,ls,is,ds,cs,us,ms,ys,ps,hs,Ss,gs,Fs,bs,xs,fs,Ts,As,vs,Cs,Us,_s,Es,ws,Ds,ks,Ns,Is,Rs,Bs,Ms,Ls,Ps,Hs,Vs,js,Os,qs,Ys,Ws,zs,Gs,Ks,$s,Xs,Zs,Js,Qs,ea,ta,sa,aa,oa,na,ra,la,ia,da,ca,ua,ma,ya,pa,ha,Sa,ga,Fa,ba,xa,fa,Ta,Aa,va,Ca,Ua,_a,Ea,wa,Da,ka,Na,Ia){"use strict";const Ra=e=>{e.preventDefault()},Ba=()=>"ios"===E.getClientHints().platform,Ma=({"aria-label":e,"aria-valuemax":s,"aria-valuemin":o,"aria-valuenow":n,"aria-valuetext":l,inputRef:i,isComplete:d,isDisabled:c,isHidden:u,isHighlighted:m,isInvalid:y,isRequired:p,isSelected:h,onChange:S,placeholder:g,text:F,type:b})=>{const x=F&&F.length>0,f=_.classNames([N.segmentStyles.base,h&&N.segmentStyles.selected,m&&N.segmentStyles.highlighted]),T=_.classNames([N.segmentStyles.placeholder,u||x?N.segmentStyles.hidden:N.segmentStyles.notHidden]),A=r.useTranslationBundle("@oracle/oraclejet-preact").inputDateMask_empty_segment(),v=a.useRef(null),C=i??v,U=a.useRef(!1),{locale:E}=I.useUser(),D=a.useCallback((e=>{if(!c&&"Tab"!==e.key&&"ArrowLeft"!==e.key&&"ArrowRight"!==e.key&&"Enter"!==e.key&&!w.isSelectAll(e)){if(m){if(w.isBackspaceOrDelete(e)||"Backspace"===e.key)return}else"0"!==e.key||!d&&void 0!==F?k.isNumberOnlyString(e.key)?(S?.({actionType:"updateSegment",data:{type:b,text:e.key,hasLeadingZero:U.current,locale:E}}),U.current=!1):w.isBackspaceOrDelete(e)||"Backspace"===e.key?(S?.({actionType:"clearSegment",data:{type:b}}),U.current=!1):"ArrowUp"===e.key?(S?.({actionType:"step",data:{direction:"increase",locale:E,type:b}}),U.current=!1):"ArrowDown"===e.key?(S?.({actionType:"step",data:{direction:"decrease",locale:E,type:b}}),U.current=!1):"PageUp"===e.key?(S?.({actionType:"page",data:{direction:"increase",locale:E,type:b}}),U.current=!1):"PageDown"===e.key?(S?.({actionType:"page",data:{direction:"decrease",locale:E,type:b}}),U.current=!1):"Home"===e.key?(S?.({actionType:"goToHome",data:{locale:E,type:b}}),U.current=!1):"End"===e.key&&(S?.({actionType:"goToEnd",data:{locale:E,type:b}}),U.current=!1):U.current=!0;e.preventDefault(),e.stopPropagation()}}),[d,c,m,E,S,F,b]);a.useEffect((()=>{h&&C.current?.focus()}),[h,C]);const R={"data-segment":[b]},B=void 0===l?A:n?.toString()===l?void 0:l;return t.jsx("div",{children:t.jsxs("div",{ref:C,role:Ba()?"textbox":"spinbutton","aria-disabled":c,"aria-invalid":y||void 0,"aria-label":e,"aria-required":p,"aria-valuemin":Ba()?void 0:o,"aria-valuemax":Ba()?void 0:s,"aria-valuenow":Ba()?void 0:n,"aria-valuetext":Ba()?void 0:B,autocapitalize:"off",autocorrect:"off",class:f,contentEditable:!c,...R,enterkeyhint:c?void 0:"done",inputMode:c?"none":"numeric",onCut:Ra,onKeyDown:D,onPaste:Ra,spellcheck:!1,tabIndex:h?0:-1,children:[t.jsx("span",{"aria-hidden":"true",class:T,...R,children:g}),F]})})},La=({isHidden:e,isHighlighted:s,isPlaceholder:a,text:o})=>{const n=_.classNames([N.segmentStyles.literalBase,a&&N.segmentStyles.placeholder,s&&N.segmentStyles.highlighted,e?N.segmentStyles.hidden:N.segmentStyles.notHidden]);return t.jsx("span",{"aria-hidden":"true",class:n,children:o})},Pa=(e,t)=>{if("reset"===t.actionType)return t.data;const s=t.data?.type,a=ja(e.segments,s);switch(t.actionType){case"clearDate":{const t=so(Qa(e.segments),e.orderedSegments);return co(e,t,!1)}case"clearSegment":{const t=Ja(a);return Za(e,s,t)}case"commit":{const t=lo(e.segments);return co(e,t,!1)}case"goToEnd":{const o=yo(s,a,e.segments,t.data?.locale);return Za(e,s,o,!1)}case"goToHome":{const o=mo(s,a,e.segments,t.data?.locale);return Za(e,s,o,!1)}case"page":{const o=t.data?.direction,n=t.data?.locale,r=po(s,a,e.segments,"page",o,n);return Za(e,s,r,!1)}case"selectDateOrSegment":return io(e);case"selectFirst":{const t=so(e.segments,e.orderedSegments);return co(e,t,!1)}case"selectNext":{const t=no(e.segments,e.orderedSegments);return co(e,t,!1)}case"selectPrevious":{const t=ro(e.segments,e.orderedSegments);return co(e,t,!1)}case"selectSegment":{const t=to(e.segments,s);return co(e,t,!1)}case"step":{const o=t.data?.direction,n=t.data?.locale,r=po(s,a,e.segments,"step",o,n);return Za(e,s,r,!1)}case"updateSegment":{const o=eo(s,a,t,e.segments);return Za(e,s,o)}default:throw new Error("Unknown action type")}},Ha=e=>+e,Va=e=>e.toString(),ja=(e,t)=>e.find((e=>e.type===t)),Oa=e=>e.every((e=>e.text&&e.text.length>0)),qa=e=>e.some((e=>void 0!==e["aria-valuenow"])),Ya=e=>{if(!qa(e))return;const t=e.map((e=>({[e.type]:e["aria-valuenow"]}))).values();let s={};for(const e of t)s={...s,...e};return s},Wa=e=>ja(e,"year")["aria-valuenow"],za=(e,t,s)=>`${t} - ${k.getMonthName(e,t,s??"*","long")}`,Ga=e=>[...e.orderedSegments],Ka=(e,t,s)=>e.map((e=>e.type===t?s:e)),$a=(e,t,s,a,o)=>{const n=Ka(e,s,a);let r=n;if("month"===s||"year"===s){const e=ja(n,"day");if(e){const t="month"==s?a["aria-valuenow"]:ja(n,"month")["aria-valuenow"],o="year"===s?a["aria-valuenow"]:Wa(n),l=H.getDaysInMonth(t??"*",o??"*"),i=e["aria-valuenow"],d=i&&i>l?l:i,c=d?Va(d):void 0,u={...e,"aria-valuemax":l,"aria-valuenow":d,"aria-valuetext":c,text:c};r=Ka(n,"day",u)}}return r=a.isComplete&&o?no(r,t):r,r},Xa=(e,t)=>({currentDate:Ya(t),isCompleteDate:Oa(t),isDateSelected:e.isDateSelected,isPartialDate:qa(t),orderedSegments:Ga(e),segments:t}),Za=(e,t,s,a=!0)=>{const o=$a(e.segments,e.orderedSegments,t,s,a);return Xa(e,o)},Ja=e=>({...e,"aria-valuetext":void 0,"aria-valuenow":void 0,text:void 0,isComplete:!1}),Qa=e=>e.map((e=>{const t=Ja(e),s="year"===t.type?H.MAX_ISO_YEAR:"month"===t.type?H.getMonthsInYear("*"):H.getDaysInMonth("*","*");return{...t,"aria-valuemax":s}})),eo=(e,t,s,a)=>{const o=s.data?.text,n=s.data?.hasLeadingZero,r=s.data?.locale,l=t["aria-valuemin"],i=t["aria-valuemax"],d=t.isComplete?o:t.text+o,c=Ha(d),u=(y=i,(m=c)>=l&&m<=y);var m,y;const p=u?d:o,h=u?c:Ha(o),S=((e,t)=>Ha(Va(e)+"0")>t)(h,i)||!!n&&"year"!==e,g="month"===e?za(r,h,Wa(a)):p;return{...t,"aria-valuetext":g,"aria-valuenow":h,text:p,isComplete:S}},to=(e,t)=>e.map((e=>({...e,isSelected:e.type===t}))),so=(e,t)=>to(e,t[0]),ao=(e,t)=>{const s=e.find((e=>!0===e.isSelected));return void 0===s?-1:t.findIndex((e=>e===s.type))},oo=e=>e.map((e=>e.isSelected?{...e,isComplete:!0}:e)),no=(e,t)=>{const s=ao(e,t);return s===t.length-1?e:to(oo(e),t[s+1])},ro=(e,t)=>{const s=ao(e,t);return 0===s?e:-1===s?so(e,t):to(oo(e),t[s-1])},lo=e=>e.map((e=>({...e,isSelected:!1,isComplete:!!e.text}))),io=e=>{if(e.isCompleteDate)return co(e,e.segments.map((e=>({...e,isSelected:!1}))),!0);{const t=so(e.segments,e.orderedSegments);return Xa(e,t)}},co=(e,t,s)=>({currentDate:Ya(t),isCompleteDate:Oa(t),isDateSelected:s,isPartialDate:qa(t),orderedSegments:Ga(e),segments:t}),uo=(e,t,s,a,o)=>{const n=Va(e);return{...a,"aria-valuetext":"month"===s?za(t,e,Wa(o)):n,"aria-valuenow":e,text:n,isComplete:!0}},mo=(e,t,s,a)=>{const o=((e,t)=>"year"===e?1900:t["aria-valuemin"])(e,t);return uo(o,a,e,t,s)},yo=(e,t,s,a)=>{const o=((e,t)=>"year"===e?2100:t["aria-valuemax"])(e,t);return uo(o,a,e,t,s)},po=(e,t,s,a,o,n)=>{const r=t["aria-valuenow"],l=t["aria-valuemin"],i=t["aria-valuemax"],d=void 0===r?(e=>{const{year:t,month:s,day:a}=k.getTodayAsCalendarDate();return{year:t,month:s,day:a}[e]})(e):"page"===a?((e,t,s,a,o)=>{const n="month"===o?2:"year"===o?5:7;return"increase"===t?e+n>a?(e+n)%a:e+n:e-n<s?e-n+a:e-n})(r,o,l,i,e):((e,t,s,a)=>"increase"===t?e+1>a?s:e+1:e-1<s?a:e-1)(r,o,l,i);return uo(d,n,e,t,s)};const ho=({dateResetRef:e,direction:t,dispatch:s,groupRef:o,isDisabled:n,isFocused:r,isInputFocused:l,onCommit:i,onInput:d,state:c})=>{const{tabbableModeProps:u}=j.useTabbableMode(),{tabIndex:m}=u,y=c.segments.some((e=>!!e.isSelected)),p=-1===m||y||n?-1:0,h=a.useRef(c.currentDate),S=a.useRef(c.currentDate),g=a.useRef(!1),F=a.useRef(!!r),b=a.useCallback((e=>{s(e)}),[s]),x=a.useCallback((e=>{const t=e.target.getAttribute("data-segment");s(t?{actionType:"selectSegment",data:{type:t}}:{actionType:"selectFirst"})}),[s]),f=a.useCallback(((e=!0)=>{c.isCompleteDate&&(s({actionType:"selectDateOrSegment"}),e&&o?.current?.focus())}),[s,o,c.isCompleteDate]),T=a.useCallback((()=>{f()}),[f]),A=a.useCallback((e=>{e.target.getAttribute("data-segment")&&f(!1)}),[f]),v=V.useDoubleTap({onDoubleTap:A,onSingleTap:x}),C=a.useCallback((e=>{"ltr"===t&&"ArrowLeft"===e.key||"rtl"===t&&"ArrowRight"===e.key?(s({actionType:"selectPrevious"}),e.stopPropagation()):"ltr"===t&&"ArrowRight"===e.key||"rtl"===t&&"ArrowLeft"===e.key?(s({actionType:"selectNext"}),e.stopPropagation()):(w.isBackspaceOrDelete(e)||"Backspace"===e.key)&&c.isDateSelected?(s({actionType:"clearDate"}),g.current=!0,e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()):w.isSelectAll(e)?(f(),e.preventDefault(),e.stopPropagation()):"Enter"===e.key&&(k.calendarDatesAreDifferent(S.current,h.current)&&(i?.({value:h.current}),S.current=h.current),e.preventDefault(),e.stopPropagation())}),[t,s,i,f,c.isDateSelected]);a.useEffect((()=>{F.current&&!r&&(s({actionType:"commit"}),k.calendarDatesAreDifferent(S.current,h.current)&&(i?.({value:h.current}),S.current=h.current)),F.current=!!r}),[s,r,i]),a.useEffect((()=>{if(k.calendarDatesAreDifferent(h.current,c.currentDate)&&!e.current){const e=void 0!==c.currentDate?Object.freeze({...c.currentDate}):c.currentDate;d({value:e}),h.current=e}e.current=!1}),[d,c.currentDate,e]);const U=a.useRef(!1),_=a.useRef();a.useEffect((()=>{l&&!U.current&&s({actionType:"selectFirst"}),!l&&!U.current&&s({actionType:"commit"}),U.current=!1}),[s,l]);const D=function(){const e=E.getClientHints().deviceType;return"phone"===e||"tablet"===e}()?{...v,onKeyDown:C}:{onClick:x,onDoubleClick:T,onKeyDown:C,onPointerDown:()=>{U.current=!0,clearTimeout(_.current),_.current=setTimeout((()=>{U.current=!1}),200)}};return{dateClearedRef:g,dateFieldHandlers:n?{}:D,segmentHandlers:n?{}:{onChange:b},tabIndex:p}},So=(e,t)=>e.find((e=>e.type===t)),go=({"aria-describedby":e,"aria-invalid":s,"aria-label":o,"aria-labelledby":n,baseId:l,fieldRef:i,granularity:d="day",hasInsideLabel:c,isRequired:u,masks:m,onBlur:y,onCommit:p,onFocus:h,onInput:S,textAlign:g,value:F,variant:b="default"})=>{const x=r.useTranslationBundle("@oracle/oraclejet-preact"),f=x.inputDateMask_date_cleared(),T={month:x.formControl_month(),day:x.formControl_day(),year:x.formControl_year()},{direction:A,locale:v}=I.useUser(),{isDisabled:C,isFocused:U,isInputFocused:E}=q.useFormFieldContext(),w=void 0!==F,{classes:D}=P.useComponentTheme(Y.TextFieldInputRedwoodTheme,{type:"notPassword",styleVariant:b,textarea:"notTextArea",input:"notInput",div:"isDiv",prefix:"noPrefix",suffix:"noSuffix",startContent:"noStartContent",endContent:"noEndContent",insideLabel:c?"hasInsideLabel":"noInsideLabel",value:w?"hasValue":"noValue",focused:U?"isFocused":"notFocused",disabled:C?"isDisabled":"notDisabled"}),N=_.classNames([D]),{state:V,dispatch:j,dateResetRef:O}=(({ariaLabels:e,dateMasks:t,granularity:s,locale:o,value:n})=>{const r=t.filter((({type:e})=>"literal"!==e)).map((({type:e})=>e)),l=n?.year,i=n?.month,d=n?.day,c=H.getMonthsInYear(l??"*"),u=H.getDaysInMonth(i??"*",l??"*"),m=!(!l||!i||"month"!==s&&!d),y=!!l||!!i||!!d,p=l?Va(l):void 0,h=i?Va(i):void 0,S=d?Va(d):void 0,g=i?za(o,i,l):void 0,F=[{type:"day","aria-label":e.day,"aria-valuemin":H.MIN_ISO_DAY,"aria-valuemax":u,"aria-valuenow":d,"aria-valuetext":S,isComplete:!!d,isSelected:!1,text:S}],b={currentDate:n,isCompleteDate:m,isDateSelected:!1,isPartialDate:y,orderedSegments:r,segments:[{type:"year","aria-label":e.year,"aria-valuemin":H.MIN_ISO_YEAR,"aria-valuemax":H.MAX_ISO_YEAR,"aria-valuenow":l,"aria-valuetext":p,isComplete:!!l,isSelected:!1,text:p},{type:"month","aria-label":e.month,"aria-valuemin":H.MIN_ISO_MONTH,"aria-valuemax":c,"aria-valuenow":i,"aria-valuetext":g,isComplete:!!i,isSelected:!1,text:h},..."day"===s?F:[]]},[x,f]=a.useReducer(Pa,b),T=a.useRef(n),A=a.useRef(!1);return k.calendarDatesAreDifferent(T.current,n)&&(T.current=n,k.calendarDatesAreDifferent(n,x.currentDate)&&(f({actionType:"reset",data:b}),A.current=!0)),{dateResetRef:A,dispatch:f,state:x}})({ariaLabels:T,dateMasks:m,granularity:d,locale:v,value:F}),{isDateSelected:W,isPartialDate:z,segments:G}=V,K={year:So(G,"year"),month:So(G,"month"),day:"day"===d?So(G,"day"):void 0},$=a.useRef(null),{dateClearedRef:X,dateFieldHandlers:Z,segmentHandlers:J,tabIndex:Q}=ho({dateResetRef:O,direction:A,dispatch:j,groupRef:$,isDisabled:C,isFocused:U,isInputFocused:E,onCommit:p,onInput:S,state:V}),ee=void 0===F&&c&&!U,te=V.isCompleteDate?H.formatFullCalendarDate(v,V.currentDate,d):"",se=`${l}-date`,ae=V.isCompleteDate?t.jsx(B.HiddenAccessible,{id:se,children:te}):void 0,oe=V.isCompleteDate?L.merge([e,se]):e,ne=X.current?f:"",re=V.orderedSegments[0];return t.jsxs("div",{"aria-describedby":oe,"aria-label":o,"aria-labelledby":n,class:N,onfocusin:h,onfocusout:y,ref:$,role:"group",tabIndex:Q,...Z,children:[t.jsx(R.Flex,{direction:"row",wrap:"nowrap",justify:g,children:m.map((({type:e,value:a})=>{const o="literal"!==e?K[e]:{};return"literal"===e?t.jsx(La,{isHidden:ee,isHighlighted:W,isPlaceholder:!z,text:a}):t.jsx(Ma,{inputRef:e===re?i:void 0,isDisabled:C,isInvalid:!!s,isHidden:ee,isHighlighted:W,isRequired:u,placeholder:a,type:e,...J,...o})}))}),ae,t.jsx(M.LiveRegion,{children:ne})]})},Fo=s.forwardRef((({"aria-describedby":e,assistiveText:s,columnSpan:o,granularity:n="day",helpSourceLink:l,helpSourceText:i,isDisabled:d,isReadonly:m,isRequired:y,isRequiredShown:p,label:h,labelEdge:S,labelStartWidth:g,messages:F,masks:b,testId:x,textAlign:f,userAssistanceDensity:T,value:A,variant:v,onCommit:C,onInput:U},_)=>{const{isDisabled:E,isReadonly:w,labelEdge:D,labelStartWidth:N,textAlign:R,userAssistanceDensity:B}=ee.useFormContext(),M=d??E,L=m??w,P=S??D,V=g??N,j=f??R,q=T??B,{enabledElementRef:Y,readonlyElementRef:z,focusProps:G,isFocused:Z}=J.useFocusableTextField({isDisabled:M,isReadonly:L,ref:_}),{baseId:Q,formFieldContext:se,inputProps:ae,labelProps:oe,textFieldProps:ne,userAssistanceProps:re}=te.useTextField({ariaDescribedBy:e,helpSourceLink:l,helpSourceText:i,isDisabled:M,isFocused:Z,isReadonly:L,isRequiredShown:p,labelEdge:P,messages:F,styleVariant:v,userAssistanceDensity:q,value:A}),{forId:le,...ie}=oe,{id:de,...ce}=ae,ue=ie.id,me=a.useCallback((()=>{Y.current?.focus()}),[Y]),ye="none"!==P?t.jsx(W.Label,{...M||L?{}:{onClick:me},...ie,children:h}):void 0,pe={label:"none"!==P?ye:void 0,labelEdge:"none"!==P?P:void 0,labelStartWidth:"none"!==P?V:void 0},he="none"===P?h:void 0,Se=void 0!==h&&"inside"===P,ge="efficient"===q||"reflow"===q?M||L?"efficient"!==q?void 0:t.jsx(c.InlineUserAssistance,{userAssistanceDensity:q,...re}):t.jsx(c.InlineUserAssistance,{assistiveText:s,fieldLabel:h,helpSourceLink:l,helpSourceText:i,messages:F,isRequiredShown:p,userAssistanceDensity:q,...re}):void 0,Fe=a.useRef(null),be="compact"===q?t.jsx(u.CompactUserAssistance,{anchorRef:Fe,messages:F,assistiveText:s,...re}):void 0,{locale:xe}=I.useUser(),fe=r.useTranslationBundle("@oracle/oraclejet-preact"),Te=fe.inputDateMask_monthPlaceholder(),Ae=fe.inputDateMask_dayPlaceholder(),ve=fe.inputDateMask_yearPlaceholder();if(b&&("day"===n&&5!==b.length||"month"===n&&3!==b.length))throw new Error("Specified masks must match the granularity");const Ce=a.useMemo((()=>b?k.translateCustomMasks(b,Te,Ae,ve):H.getDatePlaceholderMasks(xe,n,Te,Ae,ve)),[b,xe,n,Ae,Te,ve]);if(L)return t.jsx(O.FormFieldContext.Provider,{value:se,children:t.jsx($.ReadonlyTextField,{role:"presentation",columnSpan:o,compactUserAssistance:be,inlineUserAssistance:ge,onBlur:G.onfocusout,onFocus:G.onfocusin,ref:Fe,testId:x,mainContent:t.jsx(K.ReadonlyTextFieldInput,{"aria-describedby":ce["aria-describedby"],"aria-label":he,"aria-labelledby":ie.id,as:"div",elementRef:z,textAlign:j,value:void 0===A?"":H.formatShortCalendarDate(A,n,Ce),hasEmptyLabel:""===h&&"none"===P,hasInsideLabel:Se}),...pe})});const Ue=t.jsx(go,{"aria-label":he,"aria-labelledby":ue,baseId:Q,fieldRef:Y,granularity:n,hasInsideLabel:void 0!==ye&&"inside"===P,isRequired:y,masks:Ce,onCommit:C,onInput:U,textAlign:j,value:A,...ce});return t.jsx(O.FormFieldContext.Provider,{value:se,children:t.jsx(X.TextField,{columnSpan:o,compactUserAssistance:be,inlineUserAssistance:ge,mainContent:Ue,onBlur:G.onfocusout,onFocus:G.onfocusin,mainFieldRef:Fe,testId:x,...ne,...pe})})}));e.InputDateMask=Fo,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=UNSAFE_InputDateMask.js.map
