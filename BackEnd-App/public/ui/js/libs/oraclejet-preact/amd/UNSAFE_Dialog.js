define(['exports', 'preact/jsx-runtime', 'preact/compat', './WindowOverlay-07d2d0a1', './useTestId-26d55a32', './useAnimation-bdc8e7f7', 'preact/hooks', './UNSAFE_Dialog/themes/redwood/DialogTheme', './FocusTrap-f2f3e77b', './Layer-ba294014', './TopLayerHost-04f78157', './Modal-95577f1e', './classNames-60f91d93', './ImageVars.css-b98a81f7', './useComponentTheme-b44c0028', './useId-ea85e20e', './mergeInterpolations-e7e2a709', './_curry3-a7927ef7', './_curry1-29759c0d', './_curry2-3c2a6ddd', './_isObject-30730c61', './vanilla-extract-dynamic.esm-ad958147', './UNSAFE_WindowOverlay/themes/WindowOverlayStyles.css', 'css!./WindowOverlayStyles.styles.css', './UNSAFE_WindowOverlay/themes/WindowOverlayContract.css', './useUser-1cf184a1', './UNSAFE_WindowOverlay/themes/redwood/WindowOverlayTheme', './UNSAFE_WindowOverlay/themes/redwood/WindowOverlayBaseTheme.css', 'module', './UNSAFE_WindowOverlay/themes/redwood/WindowOverlayVariants.css', './vanilla-extract-recipes-createRuntimeFn.esm-0883d6a2', './UNSAFE_Dialog/themes/DialogStyles.css', 'css!./DialogStyles.styles.css', './UNSAFE_Dialog/themes/redwood/DialogBaseTheme.css', 'css!./ImageVars.styles.css', 'module', './UNSAFE_Dialog/themes/redwood/DialogVariants.css', './tabbableUtils-3f4506c3', './head-44f0c95b', './_arity-c8c764a8', './_isArray-e1950e46', './_isString-5a1a6795', './FocusTracker-ec848ce2', 'preact', './PRIVATE_FocusTracker/themes/FocusTrackerStyles.css', 'css!./FocusTrackerStyles.styles.css', './useThemeInterpolations-e7364c0d', './useColorScheme-dc114593', './useScale-dbe3a08d', './theme-b5b2260c', './Theme-2dc8b6f4', './Common/themes/redwood/theme', './Common/themes/themeContract.css', './UNSAFE_Modal/themes/ModalStyles.css', 'css!./ModalStyles.styles.css', './logger-87202d60'], (function(e,s,a,o,t,l,r,d,n,i,c,m,y,h,u,g,f,p,S,b,w,T,v,F,O,_,N,D,A,x,E,j,I,W,U,C,B,R,M,k,L,V,K,X,Y,H,P,q,z,G,J,Q,Z,$,ee,se){"use strict";const ae=({header:e,id:a})=>{const{styles:o}=u.useComponentTheme(d.DialogRedwoodTheme),t="string"==typeof e?s.jsx("h1",{id:a,className:o.dialogTitleStyle,children:e}):e;return s.jsx("div",{className:o.dialogHeaderStyle,children:t})},oe=a.forwardRef((({children:e,header:a,footer:o,labelId:l,role:r,ariaLabelledBy:n,ariaDescribedBy:i,onKeyDown:c,testId:m},g)=>{const{classes:f,styles:p}=u.useComponentTheme(d.DialogRedwoodTheme),S=t.useTestId(m);return s.jsx("div",{ref:g,className:y.classNames([f,h.globalImages]),style:{opacity:0},onKeyDown:c,role:r,"aria-labelledby":n,"aria-describedby":i,...S,children:s.jsxs("div",{className:p.dialogContainerStyle,children:[s.jsx(ae,{id:l,header:a}),s.jsx("div",{className:p.dialogContentStyle,children:s.jsx("div",{className:p.dialogBodyStyle,children:e})}),s.jsx("div",{className:p.dialogFooterStyle,children:o})]})})})),te={opening:{from:{scaleX:0,scaleY:0,transformOrigin:"center",opacity:0},to:{scaleX:1,scaleY:1,opacity:1},options:{duration:200}},closing:{from:{scaleX:1,scaleY:1,transformOrigin:"center",opacity:1},to:{scaleX:0,scaleY:0,opacity:0},options:{duration:200}}};e.Dialog=({autoFocusRef:e,children:a,isOpen:t,header:d="",footer:c,modality:y="modal",placement:h="center",offset:u=0,onClose:f,onTransitionEnd:p,role:S="dialog","aria-labelledby":b,"aria-describedby":w,testId:T})=>{const[v,F]=r.useState(t?"opening":"unmounted"),O=g.useId(),_=b||O;r.useEffect((()=>{("unmounted"!==v||t)&&F(t?"opening":"closing")}),[t,v]);const{nodeRef:N}=l.useAnimation(v,{animationStates:te,isAnimatedOnMount:!0,onAnimationEnd:({animationState:e})=>{"closing"===e?(F("unmounted"),p?.(!1)):p?.(!0)}}),D=e=>{if("Escape"===e.code)f?.({reason:"escapeKey"})},A=()=>s.jsx(o.WindowOverlay,{placement:h,offset:u,children:s.jsx(n.FocusTrap,{autoFocusRef:e,children:s.jsx(oe,{ref:N,labelId:_,header:d,footer:c,role:S,ariaLabelledBy:_,ariaDescribedBy:w,onKeyDown:D,testId:T,children:a})})});return"modal"===y?s.jsx(m.Modal,{isOpen:"unmounted"!==v,children:A()}):"unmounted"!==v?s.jsx(i.Layer,{children:A()}):null},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=UNSAFE_Dialog.js.map
