define(['exports', 'preact/jsx-runtime', 'preact', 'preact/compat', './FormContext-f6953c77', './useFormContext-99989b5a', './FormFieldContext-65ab4fec', 'preact/hooks', './useFocusableTextField-a22b0fd7', './Label-e99d6d97', './TextFieldInput-01d3e0cd', 'css!./ObfuscatedTextFieldInputStyles.styles.css', './ReadonlyTextFieldInput-d2aa123a', './StyledTextField-f898814c', './TextField-a832cd94', './MaxLengthLiveRegion-bacde043', './useTextField-0acb5fa7', './logger-87202d60', './TabbableModeContext-4083a895', './useTranslationBundle-ad029b83', 'css!./UserAssistanceStyles.styles.css', 'module', './UNSAFE_UserAssistance/themes/redwood/UserAssistanceVariants.css', './InlineUserAssistance-8808f3e7', './CompactUserAssistance-e6f71763', './Floating-7f696c17', './TopLayerHost-04f78157', 'css!./TooltipContentStyles.styles.css', 'module', './hooks/UNSAFE_useTooltip/themes/redwood/TooltipContentVariants.css', 'css!./IconStyle.styles.css', './Popup-244a5193', 'css!./LabelStyles.styles.css', 'module', './UNSAFE_Label/themes/redwood/LabelVariants.css', './InputGroupContext-5b55daba', 'css!./HiddenAccessibleStyles.styles.css', 'module', './UNSAFE_Popup/themes/redwood/PopupVariants.css', './useLengthFilter-c4bfbc8b', './classNames-60f91d93', './usePress-9ccc917a', './useFormFieldContext-53cf3575', 'css!./MaxLengthCounterStyles.styles.css', './useCurrentValueReducer-23c82441'], (function(e,s,t,a,n,o,i,l,r,c,d,u,x,p,h,m,b,y,F,g,f,L,C,v,A,S,T,R,U,j,I,E,_,w,P,M,k,D,N,V,B,q,H,W,z){"use strict";var G="MaxLengthCounterStyles_spanStyles__7dy9j72";const O=()=>{};function J({maxLength:e,valueLength:t=0,onClick:a}){const{isFocused:n}=H.useFormFieldContext(),o=l.useCallback((e=>e.preventDefault()),[]),i=B.classNames([!n&&"MaxLengthCounterStyles_hide__7dy9j71"]),{pressProps:r}=q.usePress(a??O);return s.jsx("div",{class:"MaxLengthCounterStyles_maxLengthCounterBase__7dy9j70",onMouseDown:o,...r,children:s.jsxs("span",{class:i,children:[s.jsx("span",{class:G,children:t}),s.jsx("span",{class:G,children:"/"}),s.jsx("span",{class:G,children:e})]})})}const K=a.forwardRef((({"aria-describedby":e,assistiveText:n,autoComplete:l="off",autoFocus:u=!1,columnSpan:y,helpSourceLink:F,helpSourceText:f,isDisabled:L,isReadonly:C,isRequired:S=!1,isRequiredShown:T,label:R,labelEdge:U,labelStartWidth:j,maxLength:I,maxLengthCounter:E="remaining",maxLengthUnit:_,messages:w,placeholder:P,resize:M,role:k,rows:D,textAlign:N,userAssistanceDensity:B,value:q,variant:H="default",onInput:W,onCommit:G,testId:O},K)=>{const Q=g.useTranslationBundle("@oracle/oraclejet-preact"),X=I?Q.formControl_limitReached({CHARACTER_LIMIT:I}):"",{currentCommitValue:Y,dispatch:Z}=z.useCurrentValueReducer({value:q}),$=a.useCallback((e=>{Z({type:"input",payload:e.value}),W?.(e)}),[W,Z]),ee=a.useCallback((e=>{Z({type:"commit",payload:e.value}),G?.(e)}),[G,Z]),{isDisabled:se,isReadonly:te,labelEdge:ae,labelStartWidth:ne,textAlign:oe,userAssistanceDensity:ie}=o.useFormContext(),le=L??se,re=C??te,ce=U??ae,de=j??ne,ue=N??oe,xe=B??ie,{enabledElementRef:pe,readonlyElementRef:he,focusProps:me,isFocused:be}=r.useFocusableTextField({isDisabled:le,isReadonly:re,ref:K}),{isMaxLengthExceeded:ye,isMaxLengthReached:Fe,valueLength:ge,onFilteredInput:fe}=V.useLengthFilter({maxLength:I,maxLengthUnit:_,value:q,onInput:$,onCommit:ee}),Le=[...w??[],...Fe?[{detail:X,severity:"info"}]:[]],{formFieldContext:Ce,inputProps:ve,labelProps:Ae,textFieldProps:Se,userAssistanceProps:Te}=b.useTextField({ariaDescribedBy:e,contentVariant:"textarea",helpSourceLink:F,helpSourceText:f,isDisabled:le,isFocused:be,isReadonly:re,isRequiredShown:T,labelEdge:ce,messages:Le,styleVariant:H,userAssistanceDensity:xe,value:q}),Re=a.useCallback((()=>{const e=pe.current,s=e?e.value.length:null;pe.current?.setSelectionRange(s,s),pe.current?.focus()}),[pe]),Ue="none"!==ce?s.jsx(c.Label,{...Ae,children:R}):void 0,je={label:"none"!==ce?Ue:void 0,labelEdge:"none"!==ce?ce:void 0,labelStartWidth:"none"!==ce?de:void 0},Ie="none"===ce?R:void 0,Ee="efficient"===xe||"reflow"===xe?le||re?"efficient"!==xe?void 0:s.jsx(v.InlineUserAssistance,{userAssistanceDensity:xe,...Te}):s.jsx(v.InlineUserAssistance,{assistiveText:n,fieldLabel:R,helpSourceLink:F,helpSourceText:f,messages:Le,isRequiredShown:T,userAssistanceDensity:xe,...Te}):void 0,_e=a.useRef(null),we="compact"===xe?s.jsx(A.CompactUserAssistance,{anchorRef:_e,messages:Le,assistiveText:n,...Te}):void 0;if(re){const e=s.jsx(x.ReadonlyTextFieldInput,{"aria-describedby":ve["aria-describedby"],"aria-label":Ie,"aria-labelledby":Ae.id,as:"textarea",elementRef:he,rows:D,autoFocus:u,textAlign:ue,value:q,variant:"textarea",hasEmptyLabel:""===R&&"none"===ce,hasInsideLabel:void 0!==R&&"inside"===ce});return s.jsx(i.FormFieldContext.Provider,{value:Ce,children:s.jsx(p.ReadonlyTextField,{role:"presentation",columnSpan:y,compactUserAssistance:we,inlineUserAssistance:Ee,ref:_e,testId:O,variant:"textarea",mainContent:e,...je})})}const Pe=s.jsxs(t.Fragment,{children:[s.jsx(d.TextFieldInput,{as:"textarea","aria-label":Ie,autoComplete:l,autoFocus:u,currentCommitValue:Y,hasEmptyLabel:""===R&&"none"===ce,hasInsideLabel:void 0!==Ue&&"inside"===ce,isRequired:S,inputRef:pe,onCommit:ee,onInput:fe,placeholder:P,role:k,rows:D,textAlign:ue,value:q,...ve}),"remaining"===E&&void 0!==I&&s.jsx(J,{maxLength:I,valueLength:ge,parentHasFocus:be,onClick:Re}),void 0!==I&&s.jsx(m.MaxLengthLiveRegion,{isMaxLengthExceeded:ye,maxLength:I,valueLength:ge})]});return s.jsx(i.FormFieldContext.Provider,{value:Ce,children:s.jsx(h.TextField,{mainContent:Pe,columnSpan:y,compactUserAssistance:we,inlineUserAssistance:Ee,onBlur:me?.onfocusout,onFocus:me?.onfocusin,mainFieldRef:_e,resize:M,testId:O,...Se,...je})})}));e.MaxLengthCounter=J,e.TextArea=K}));
//# sourceMappingURL=TextArea-288a7d0b.js.map
